<p-card [style]="{ background: 'var(--light-cyan)' }">
  <ng-template #title>{{ 'SUB-CONTRACTS.PROJECT.TABLE_NAME' | translate }}</ng-template>

  <master-data-genaral-table [tableId]="tableKey" [tableValues]="allocations" [columns]="allocationsColumns"
    [userPreferences]="userAllocationsPreferences" [dataKeys]="dataKeys" removeKey="id"
    (onColumnChanges)="onUserAllocationsPreferencesChanges($event)" 
    (onCreateRegister)="handleEmployeeTableEvents({ type: 'create'})"
    (onEditRegister)="handleEmployeeTableEvents({ type: 'edit', data: $event })"
    (onDeleteRegister)="handleEmployeeTableEvents({ type: 'delete', data: $event })"></master-data-genaral-table>

</p-card>
<div class="card">
  <p-dialog
    [header]="modalType === 'delete' 
                ?  ('SUB-CONTRACTS.LABEL.DELETE_SUBCONTRACT_PROJECT' | translate)  
                : modalType === 'create' 
                  ? ('SUB-CONTRACTS.PROJECT.MODAL_TITLE_NEW' | translate) 
                  : ('SUB-CONTRACTS.PROJECT.MODAL_TITLE_EDIT' | translate) "
    (onHide)="closeModal()"
    [modal]="true"
    [(visible)]="visibleModal"
    [style]="{ width: '40rem' }"
  >
    <app-project-allocation-modal 
      [subcontractProject]="selectedSubcontractProject"
      [modalType]="modalType"
      (isProjectAllocationVisibleModal)="onSubcontractProjectModalVisible($event)"
      (subcontractProjectDeleted)="onSubcontractProjecteDeleted($event)"
    ></app-project-allocation-modal>
  </p-dialog>
</div>