<p-card [style]="{ background: 'var(--light-cyan)' }">
  <ng-template #title>{{ 'SUB-CONTRACTS.PROJECT.TABLE_NAME' | translate }}</ng-template>

  <master-data-genaral-table [tableId]="tableKey" [tableValues]="subcontractProjectList" [columns]="allocationsColumns"
    [userPreferences]="userAllocationsPreferences" [dataKeys]="dataKeys" removeKey="id"
    (onColumnChanges)="onUserAllocationsPreferencesChanges($event)" 
    (onCreateRegister)="handleSubcontractProjectTableEvents({ type: 'create'})"
    (onEditRegister)="handleSubcontractProjectTableEvents({ type: 'edit', data: $event})"
    (onDeleteRegister)="handleSubcontractProjectTableEvents({ type: 'delete', data: $event })">
  </master-data-genaral-table>

</p-card>
<div class="card">
  <p-dialog [header]="(modalType !== 'delete' ? 'SUB-CONTRACTS.PROJECT.MODAL_TITLE_' + optionSelected.toUpperCase() 
            : 'SUB-CONTRACTS.LABEL.DELETE_SUBCONTRACT_PROJECT') | translate"
    (onHide)="closeModal()" [modal]="true" [(visible)]="visibleModal" [style]="{ width: modalType === 'delete' ? 'auto' : '40rem' }">
    <hr class="mt-0" />
    <app-project-allocation-modal [modalType]="modalType" [isVisibleModal]="visibleModal"
      [subcontractProject]="currentSubcontractProject"
      [currentSubcontract]="currentSubcontract"
      (isProjectAllocationVisibleModal)="onModalVisibilityChange($event)"
      (subcontractProjectDeleted)="onSubcontractProjectDeleted($event)" 
      (SubcontractProjectUpdated)="onSubcontractProjectUpdated($event)"
      (subcontractProjectCreated)="onSubcontractProjectCreated($event)">
    </app-project-allocation-modal>
  </p-dialog>
</div>