<div class="container">
    <div class="row">
      <div class>
        <master-data-genaral-table
          [tableId]="tableKey"
          [tableValues]="states()"
          [columns]="cols"
          [userPreferences]="userStatesPreferences"
          [dataKeys]="dataKeys"
          [sortField]="'name'" 
          [sortOrder]="1"
          (onColumnChanges)="onUserStatesPreferencesChanges($event)"
          (onCreateRegister)="handleStateTableEvents({ type: 'create' })"
          (onDeleteRegister)="handleStateTableEvents({ type: 'delete', data: $event })"
          (onEditRegister)="editState($event)"
        ></master-data-genaral-table>
        <p-dialog 
        [header]="stateModalType === 'create' 
          ? ('STATES.LABEL.NEW_STATE' | translate) 
          : ('STATES.LABEL.DELETE_STATE' | translate)" 
        [modal]="true" 
        [(visible)]="visibleStateModal" 
        (onShow)="onDialogShow()"
        (onHide)="onModalHide()"
        >
          <app-state-modal
            [isVisibleModal]="visibleStateModal"
            [modalType]="stateModalType"
            [stateName]="stateName"
            [stateToDelete]="selectedState"
            (isVisibleModalChange)="onModalVisibilityChange($event)"
            (confirmStateDelete)="onConfirmStateDelete($event)"
            #stateModal
          ></app-state-modal>
        </p-dialog>
      </div>
    </div>
  </div>