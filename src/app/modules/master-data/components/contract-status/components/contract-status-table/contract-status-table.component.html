<div class="container">
  <div class="row">
    <div class>
      <master-data-genaral-table
        [tableId]="tableKey"
        [tableValues]="contractStatusValues()"
        [columns]="contractStatusColumns"
        [userPreferences]="userContractStatusPreferences"
        [dataKeys]="dataKeys"
        [sortField]="'status'" 
        [sortOrder]="1"
        (onColumnChanges)="onUserContractStatusPreferencesChanges($event)"
        (onCreateRegister)="handleTableEvents({ type: 'create' })"
        (onDeleteRegister)="handleTableEvents({ type: 'delete', data: $event })"
        (onEditRegister)="selectContractStatusToEdit($event)"
      ></master-data-genaral-table>
    </div>
    <p-dialog 
      [header]="modalContractStatusType === 'create' 
        ? ('CONTRACT_STATUS.MODAL.TITLE_CREATE' | translate) 
        : ('CONTRACT_STATUS.MODAL.TITLE_DELETE' | translate)" 
      [modal]="true" 
      [(visible)]="visibleContractStatusModal"
    >
      <app-contract-status-modal
        [modalType]="modalContractStatusType"
        [selectedContractStatus]="selectedContractStatus"
        [isVisible]="visibleContractStatusModal"
        [loadCreateDelete]="loadCreateDelete"
        [existingContractStatus]="contractStatusValues()"
        (isVisibleModal)="onModalVisibilityChange($event)"
        (contractStatusCreated)="onContractStatusCreated($event)"
        (contractStatusDeleted)="onContractStatusDeleted($event)"
      ></app-contract-status-modal>
    </p-dialog>
  </div>
</div>

<!-- Agregar occ-error-modal para DELETE -->
<app-occ-error-modal
  *ngIf="showOCCErrorModalDelete"
  [errorType]="occErrorDeleteType"
  [reloadCurrentPage]="true"
  (close)="showOCCErrorModalDelete = false">
</app-occ-error-modal>