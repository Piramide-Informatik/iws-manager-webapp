<div class="container">
  <div class="row">
    <master-data-genaral-table
      [tableId]="tableKey"
      [tableValues]="commissions()"
      [columns]="columnsHeaderFieldCommissions"
      [userPreferences]="userIwsCommissionsPreferences"
      [dataKeys]="dataKeys"
      (onColumnChanges)="onUserIwsCommissionsPreferencesChanges($event)"
      (onCreateRegister)="handleTableEvents({ type: 'create' })"
      (onDeleteRegister)="handleTableEvents({ type: 'delete', data: $event })"
      (onEditRegister)="editIwsCommissions($event)"
    ></master-data-genaral-table>
    <p-dialog 
        [header]="modalType === 'create' 
          ? ('IWS_COMMISSIONS.FORM.NEW' | translate) 
          : ('IWS_COMMISSIONS.DELETE.CONFIRMATION' | translate)" 
        [modal]="true" 
        [(visible)]="visibleModal"
      >
        <app-iws-commissions-modal
          [modalType]="modalType"
          [isVisible]="visibleModal"
          [iwsCommissionName]="OrderValueIwsCommission"
          [iwsCommissionToDelete]="selectedIwsCommission"
          (isVisibleModal)="onModalVisibilityChange($event)"
          (toastMessage)="toastMessageDisplay($event)"
          (iwsCommissionDeleted)="onIwsComissionDeleted($event)"
          (iwsCommissionCreated)="onCreateIWSCommission($event)"
        ></app-iws-commissions-modal>
      </p-dialog>
  </div>
</div>
