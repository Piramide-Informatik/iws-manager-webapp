<master-data-genaral-table
    [tableId]="tableKey"
    [tableValues]="projectStatuses()"
    [columns]="projectStatusDisplayedColumns"
    [userPreferences]="userProjectStatusPreferences"
    [hideColumns]="false"
    tableTitle="PROJECT_STATUS.PROJECT_STATUS"
    [dataKeys]="dataKeys"
    (onColumnChanges)="onUserProjectStatusPreferencesChanges($event)"
    (onCreateRegister)="handleTableEvents({ type: 'create' })"
    (onDeleteRegister)="handleTableEvents({ type: 'delete', data: $event })"
    (onEditRegister)="editProjectStatus($event)"
></master-data-genaral-table>

<p-dialog
    [header]="modalType === 'create' 
    ? ('PROJECT_STATUS.FORM.PROJECT_STATUS_FORM' | translate) 
    : ('PROJECT_STATUS.DELETE.CONFIRMATION' | translate)" 
    [modal]="true" 
    [(visible)]="visibleModal"
    >
    <app-model-project-status
        [modalType]="modalType"
        [visible]="visibleModal"
        [projectStatusName]="projectStatusName"
        [projectStatusToDelete]="selectedProjectStatus"
        (isVisibleModel)="onModalVisibilityChange($event)"
        (toastMessage)="toastMessageDisplay($event)"
        (projectStatusDeleted)="onDeleteProject()"
        #projectStatusModel>
    </app-model-project-status>
</p-dialog>
<p-toast/>

