<div class="card">
    <p-toast />
    <div class="flex px-4 py-3 align-items-center">
        <label for="SearchCustomer">{{customerLabel}}</label>
        <p-iconfield class="px-4">
            <p-inputicon styleClass="pi pi-search px-4" />
            <input pInputText type="text" placeholder="" [(ngModel)]="customer" />
        </p-iconfield>
    </div>
    <div class="scrollbox">
        <p-table #dt2 [value]="employees" 
            showGridlines 
            stripedRows 
            [rows]="10"
            [columns]="selectedColumns" 
            [paginator]="true" 
            scrollable="true" 
            [rowsPerPageOptions]="[10, 25, 50]"
            [tableStyle]="{'min-width': 'auto','border-spacing': '1px'}" 
            [resizableColumns]="true"
            columnResizeMode="expand"
            styleClass="p-datatable-gridlines" 
            [rowHover]="true" 
            dataKey="id"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [showCurrentPageReport]="true">
            <ng-template #caption>
                <p-multiselect display="chip" [options]="cols" [(ngModel)]="selectedColumns" optionLabel="header"
                    selectedItemsLabel="{0} columns selected"
                    [style]="{ 'min-width': '250px', 'font-size': '14px', 'line-height': '16.8px' }"
                    placeholder="Choose Columns" />
            </ng-template>
            <ng-template #caption>
            </ng-template>
            <ng-template #header let-columns>
                <tr>
                    <th id="employee-overview-buttons"></th>

                    <th id="employee-overview-field-search" *ngFor="let col of selectedFilterColumns; let i = index">
                        <input pInputText pSize="small" type="text"
                            [ngClass]="{'thead-input-id': i == 0, 'thead-input-width': i > 0}"
                            (input)="applyFilter($event, col.field)" />
                    </th>
                </tr>
                <tr>
                    <th id="employee-overview-buttons-field" class="thead" pResizableColumn
                        [style]="{'min-width': '100px', 'width':'100px'}"></th>
                    <th id="employee-overview-field" *ngFor="let col of columns; let i = index"
                        [pSortableColumn]="col.field" class="thead" pResizableColumn>
                        {{ col.header }}
                        <p-sortIcon [field]="col.field" />
                    </th>
                </tr>
            </ng-template>
            <ng-template #body let-employee>
                <tr>
                    <td>
                        <div class="flex items-center justify-center gap-2">
                            <button pButton icon="pi pi-pencil" class="p-button-rounded p-button-info"
                                (click)="goToEmployeeDetails(employee)"></button>
                            <button pButton icon="pi pi-trash"
                             class="p-button-rounded p-button-danger"
                             (click)="deleteEmployee(employee)"></button>
                        </div>
                    </td>
                    <td class="align-right">{{ employee.id }}</td>
                    <td>{{ employee.firstName }}</td>
                    <td>{{ employee.lastName }}</td>
                    <td>{{ employee.email }}</td>
                    <td class="text-center">{{ employee.generalManagerSince }}</td>
                    <td class="text-center">{{ employee.shareholderSince }}</td>
                    <td class="text-center">{{ employee.soleproprietorSince }}</td>
                    <td class="text-center">{{ employee.coentrepreneurSince }}</td>
                    <td>{{ employee.qualificationFz }}</td>
                    <td>{{ employee.qualificationKmui }}</td>
                </tr>
            </ng-template>
        </p-table>
        <p-toolbar>
            <ng-template #start>
                <p-button label='Neu' icon="pi pi-plus" routerLink="/employees/employee-details" />
            </ng-template>
            <ng-template #end>
            </ng-template>
        </p-toolbar>
    </div>
    <p-confirmDialog [style]="{ width: '450px' }" />
</div>